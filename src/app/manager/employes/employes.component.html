<div class="py-5 bg-secondary">
    <div class="container">
      <!-- Inputs (alternative) -->
      <div class="mb-3">
        <small class="text-uppercase font-weight-bold">Nouvel Employe</small>
      </div>
      <div class="row">
          <div class="col-lg-6 col-sm-6 form-group">
            <input type="text" placeholder="Nom" [(ngModel)]="nom" class="form-control form-control-alternative" />
          </div>
          <div class="col-lg-6 col-sm-6 form-group">
            <input type="textearea" placeholder="Prénom" [(ngModel)]="prenom" class="form-control form-control-alternative" />
          </div>
          <div class="col-lg-4 col-sm-4 form-group">
            <input type="email" placeholder="Email" [(ngModel)]="email" class="form-control form-control-alternative" />
          </div>
          <div class="col-lg-4 col-sm-4 form-group" [ngClass]="{'focused':focus===true}">
            <input class="form-control datepicker" placeholder="Date de naissance" id="date" name="dp1" [(ngModel)]="date" ngbDatepicker #d1="ngbDatepicker" (click)="d1.toggle()" (focus)="focus=true" (blur)="focus=false" type="text" autocomplete="off"/>
          </div> 
          <div class="col-lg-4 col-sm-4 form-group">
            <div class="input-group input-group-alternative mb-3">
              <div class="input-group-prepend">
                <span class="input-group-text"><i class="ni ni-single-02"></i></span>
              </div>
              <select class="form-control" placeholder="Genre" [(ngModel)]="genre">
                <option value="1">Masculin</option>
                <option value="2">Féminin</option>
                <option value="3">Autre</option>
              </select>
            </div>
          </div>
                
      </div>

      
      <div *ngFor="let alert of alerts">
        <c-alert [type]="alert.type" [strong]="alert.strong" [message]="alert.message" [icon]="alert.icon"></c-alert>
      </div>
      <c-alert color="danger" *ngIf="afficherAlerteDate">La date de naissance est postérieure à la date d'aujourd'hui.</c-alert>
      <c-alert color="danger" *ngIf="afficherAlerteChamp">Veuillez remplir tous les champs.</c-alert>

      <button class="btn btn-1 btn-primary" (click)="addEmploye()" type="button">Ajouter</button> 
    </div>
  </div>


  <section class="section section-lg">
    <div class="container">
      <div class="row justify-content-center text-center mb-lg">
        <div class="col-lg-8">
          <h2 class="display-3">Employés</h2>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6 col-lg-4 mb-5 mb-lg-0"  *ngFor="let employe of employees; let i = index;">
          <div class="px-4">
            <img src="./assets/img/theme/team-1-800x800.jpg" class="rounded-circle img-center img-fluid shadow shadow-lg--hover" style="width: 200px;">
            <div class="pt-4 text-center">
              <h5 class="title">
                <span class="d-block mb-1">{{employe.nom}} {{employe.prenom}}</span>
                <p><small class="h6 text-muted">{{employe.email}}</small></p>
                <p><small class="h6 text-muted">{{employe.dateNaissance}}</small></p>
              </h5>
              <div class="mt-3">
                <button (click)="open(classic1, 'modal_mini', 'sm', employe)" class="btn btn-sm btn-primary">Modifier</button>
                <button (click)="deleteEmployee(employe._id)" class="btn btn-sm btn-warning">Supprimer</button>
    
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>


  <!-- Modal -->
  <div class="col-md-4">
    <ng-template #classic1 let-c="close" let-d="dismiss">
      <div class="modal-content">
        <div class="modal-body p-0">
          <div class="card bg-secondary shadow border-0">
            
            <div class="card-body px-lg-5 py-lg-5">
              <div class="text-center text-muted mb-4">
                <small>Modifier Employe</small>
              </div>
              <form role="form" #serviceForm="ngForm">
                <div class="form-group mb-3" [ngClass]="{'focused':focus2===true}">
                  <div class="input-group input-group-alternative">
                    <input class="form-control" [placeholder]="nomField" [(ngModel)]="nomField" type="text" (focus)="focus2=true" (blur)="focus2=false">
                  </div>
                </div>
                <div class="form-group mb-3" [ngClass]="{'focused':focus3===true}">
                    <div class="input-group input-group-alternative">
                      <input class="form-control" [placeholder]="prenomField" [(ngModel)]="prenomField" type="text" (focus)="focus3=true" (blur)="focus3=false">
                    </div>
                  </div>
                  <div class="form-group mb-3" [ngClass]="{'focused':focus4===true}">
                    <div class="input-group input-group-alternative">
                      <input class="form-control" [placeholder]="emailField" type="email" [(ngModel)]="emailField" (focus)="focus4=true" (blur)="focus4=false">
                    </div>
                  </div>

                    <div class="input-group input-group-alternative mb-3">
                      <div class="input-group-prepend">
                        <span class="input-group-text"><i class="ni ni-single-02"></i></span>
                      </div>
                      <select class="form-control" [placeholder]="genreField" [(ngModel)]="genreField">
                        <option value="1">Masculin</option>
                        <option value="2">Féminin</option>
                        <option value="3">Autre</option>
                      </select>
                    </div>

                  <div class="form-group mb-3" [ngClass]="{'focused':focus6===true}">
                    <div class="input-group input-group-alternative">
                        <input class="form-control datepicker" [placeholder]="dateNaissanceField" id="date" name="dp1" [(ngModel)]="dateNaissanceField" ngbDatepicker #d1="ngbDatepicker" (click)="d1.toggle()" (focus)="focus6=true" (blur)="focus6=false" type="text" autocomplete="off"/>
                    </div>
                  </div>
            
                <div class="text-center">
                  <button type="button" (click)="updateEmployee()" class="btn btn-primary my-4">Modifier</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </ng-template>
  </div>

