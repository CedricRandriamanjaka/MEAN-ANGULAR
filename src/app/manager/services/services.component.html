<app-navbar-manager></app-navbar-manager>
  <br><br>
  <br><br>
  <br><br>

  <!-- <section class="section section-lg pt-lg-0 mt--200"> -->
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-12">
          <div class="row row-grid">
            <div class="col-lg-4" *ngFor="let service of services">
              <div class="card card-lift--hover shadow border-0">
                <div class="card-body py-5">
                <div class="rounded-circle mb-4">
                    <img src="./assets/img/theme/team-1-800x800.jpg" class="rounded-circle img-center img-fluid shadow shadow-lg--hover" style="width: 200px;">
                  </div>
                  <h6 class="text-primary text-uppercase">{{service.nom}}</h6>
                  <p class="description mt-3">Description: {{service.description}}</p>

                  <button (click)="open(classic1, 'modal_mini', 'sm', service)" class="btn btn-sm btn-outline-success">Modifier</button>
                    <button (click)="deleteService(service._id)" class="btn btn-sm btn-outline-warning">Supprimer</button>
                </div>
              </div>
            </div>
            
          </div>
        </div>
      </div>
    </div>
  <!-- </section> -->


  <div class="py-5 bg-secondary">
    <div class="container">
      <!-- Inputs (alternative) -->
      <div class="mb-3">
        <small class="text-uppercase font-weight-bold">Nouveau Service</small>
      </div>
      <div class="row">
          <div class="col-lg-6 col-sm-6 form-group">
            <input type="text" placeholder="Intitulé" id="intitule" class="form-control form-control-alternative" />
          </div>
          <div class="col-lg-6 col-sm-6 form-group">
            <input type="textearea" placeholder="Description" id="description" class="form-control form-control-alternative" />
          </div>
          <div class="col-lg-4 col-sm-4 form-group">
            <input type="text" placeholder="Prix" id="prix" class="form-control form-control-alternative" />
          </div>
          <div class="col-lg-4 col-sm-4 form-group">
            <input type="text" placeholder="Durée" id="duree" class="form-control form-control-alternative" />
          </div>
          <div class="col-lg-4 col-sm-4 form-group">
            <input type="text" placeholder="Commission" id="commission" class="form-control form-control-alternative" />
          </div>
          <div class="col-lg-6 col-sm-6 form-group" [ngClass]="{'focused':focus===true}">
            <input class="form-control datepicker" id="debut" placeholder="Date début" name="dp" [(ngModel)]="model" ngbDatepicker #d="ngbDatepicker" (click)="d.toggle()" (focus)="focus=true" (blur)="focus=false" type="text" autocomplete="off"/>
          </div>
          <div class="col-lg-6 col-sm-6 form-group" [ngClass]="{'focused':focus1===true}">
            <input class="form-control datepicker" id="fin" placeholder="Date fin" name="dp1" [(ngModel)]="model1" ngbDatepicker #d1="ngbDatepicker" (click)="d1.toggle()" (focus)="focus1=true" (blur)="focus1=false" type="text" autocomplete="off"/>
          </div> 
        
      </div>

      <div class="mb-3">
        <small class="text-uppercase font-weight-bold">Compétences requises :</small>
      </div>
      <div class="row" >
        <div class="col-lg-4 col-sm-6 mt-4 mt-md-0" *ngFor="let competence of competences">
          <div class="custom-control custom-checkbox mb-3">
            <input class="custom-control-input" 
                   type="checkbox" id="competence{{competence._id}}"
                   [checked]="competence.isChecked" 
                   (change)="toggleCheckbox(competence)">
            <label class="custom-control-label" for="competence{{competence._id}}">
              <span>{{competence.nomCompetence}}</span>
            </label>
          </div>
        </div>
      </div>
      <div *ngFor="let alert of alerts">
        <c-alert [type]="alert.type" [strong]="alert.strong" [message]="alert.message" [icon]="alert.icon"></c-alert>
      </div>
      <c-alert color="danger" *ngIf="afficherAlerteDate">La date de début est postérieure à la date de fin.</c-alert>
      <c-alert color="danger" *ngIf="afficherAlerteChamp">Veuillez remplir tous les champs.</c-alert>
      <c-alert color="danger" *ngIf="afficherAlerteNumber">Numberrr.</c-alert>
      <button class="btn btn-1 btn-primary" (click)="addService()" type="button">Ajouter</button>
    </div>
</div>


  <!-- Modal -->
  <div class="col-md-4">
    <ng-template #classic1 let-c="close" let-d="dismiss">
      <div class="modal-content">
        <div class="modal-body p-0">
          <div class="card bg-secondary shadow border-0">
            
            <div class="card-body px-lg-5 py-lg-5">
              <div class="text-center text-muted mb-4">
                <small>Modifier Service</small>
              </div>
              <form role="form" #serviceForm="ngForm">
                <div class="form-group mb-3" [ngClass]="{'focused':focus2===true}">
                  <div class="input-group input-group-alternative">
                    <input class="form-control" [placeholder]="intituleField" [(ngModel)]="intituleField" type="text" (focus)="focus2=true" (blur)="focus2=false">
                  </div>
                </div>
                <div class="form-group mb-3" [ngClass]="{'focused':focus3===true}">
                    <div class="input-group input-group-alternative">
                      <input class="form-control" [placeholder]="descriptionField" [(ngModel)]="descriptionField" type="text" (focus)="focus3=true" (blur)="focus3=false">
                    </div>
                  </div>
                  <div class="form-group mb-3" [ngClass]="{'focused':focus4===true}">
                    <div class="input-group input-group-alternative">
                      <input class="form-control" [placeholder]="prixField" type="text" [(ngModel)]="prixField" (focus)="focus4=true" (blur)="focus4=false">
                    </div>
                  </div>
                  <div class="form-group mb-3" [ngClass]="{'focused':focus5===true}">
                    <div class="input-group input-group-alternative">
                      <input class="form-control" [placeholder]="dureeField" type="text" [(ngModel)]="dureeField" (focus)="focus5=true" (blur)="focus5=false">
                    </div>
                  </div>
                  <div class="form-group mb-3" [ngClass]="{'focused':focus6===true}">
                    <div class="input-group input-group-alternative">
                      <input class="form-control" [placeholder]="commissionField" type="text" [(ngModel)]="commissionField" (focus)="focus6=true" (blur)="focus6=false">
                    </div>
                  </div>
                
                  <div class="form-group mb-3" [ngClass]="{'focused':focus7===true}">
                    <div class="input-group input-group-alternative">
                        <input *ngIf="dateDebutField !== ''" class="form-control datepicker" [placeholder]="dateDebutField" id="date" name="dp1" [(ngModel)]="dateDebutField" ngbDatepicker #d1="ngbDatepicker" (click)="d1.toggle()" (focus)="focus7=true" (blur)="focus7=false" type="text" autocomplete="off"/>
                        <input *ngIf="dateDebutField == ''" class="form-control datepicker" placeholder="Date début" id="date" name="dp1" [(ngModel)]="dateDebutField" ngbDatepicker #d1="ngbDatepicker" (click)="d1.toggle()" (focus)="focus7=true" (blur)="focus7=false" type="text" autocomplete="off"/>
                    </div>
                  </div>
                  <div class="form-group mb-3" [ngClass]="{'focused':focus8===true}">
                    <div class="input-group input-group-alternative">
                        <input *ngIf="dateDebutField !== ''" class="form-control datepicker" [placeholder]="dateFinField" id="date" name="dp1" [(ngModel)]="dateFinField" ngbDatepicker #d1="ngbDatepicker" (click)="d1.toggle()" (focus)="focus8=true" (blur)="focus8=false" type="text" autocomplete="off"/>
                        <input *ngIf="dateDebutField == ''" class="form-control datepicker" placeholder="Date fin" id="date" name="dp1" [(ngModel)]="dateFinField" ngbDatepicker #d1="ngbDatepicker" (click)="d1.toggle()" (focus)="focus8=true" (blur)="focus8=false" type="text" autocomplete="off"/>
                    </div>
                  </div>
                  
            
                <div class="text-center">
                  <button type="button" (click)="updateService()" class="btn btn-primary my-4">Modifier</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </ng-template>
  </div>


  